<!doctype html>
<html>
<head>
  <meta charset="utf-8"/>
  <title>Babylon.js Playground</title>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>

  <!-- Babylon globals (kept so window.BABYLON is available if your app expects it) -->
  <script src="https://assets.babylonjs.com/generated/Assets.js"></script>
  <script src="https://cdn.babylonjs.com/recast.js"></script>
  <script src="https://cdn.babylonjs.com/ammo.js"></script>
  <script src="https://cdn.babylonjs.com/havok/HavokPhysics_umd.js"></script>
  <script src="https://cdn.babylonjs.com/cannon.js"></script>
  <script src="https://cdn.babylonjs.com/Oimo.js"></script>
  <script src="https://cdn.babylonjs.com/earcut.min.js"></script>
  <script src="https://cdn.babylonjs.com/babylon.js"></script>
  <script src="https://cdn.babylonjs.com/materialsLibrary/babylonjs.materials.min.js"></script>
  <script src="https://cdn.babylonjs.com/proceduralTexturesLibrary/babylonjs.proceduralTextures.min.js"></script>
  <script src="https://cdn.babylonjs.com/postProcessesLibrary/babylonjs.postProcess.min.js"></script>
  <script src="https://cdn.babylonjs.com/loaders/babylonjs.loaders.js"></script>
  <script src="https://cdn.babylonjs.com/serializers/babylonjs.serializers.min.js"></script>
  <script src="https://cdn.babylonjs.com/gui/babylon.gui.min.js"></script>
  <script src="https://cdn.babylonjs.com/addons/babylonjs.addons.min.js"></script>
  <script src="https://cdn.babylonjs.com/inspector/babylon.inspector.bundle.js"></script>

  <style>
    html,body,#renderCanvas{width:100%;height:100%;margin:0;padding:0;overflow:hidden;background:#000}
  </style>
</head>
<body>
  <canvas id="renderCanvas"></canvas>
  <script type="module">
    // Turn bundle text into a module URL
    const code = "// snapshot:index.js\nvar createScene = () => {\n  const scene = new BABYLON.Scene(engine);\n  const camera = new BABYLON.ArcRotateCamera(\"camera\", -Math.PI / 2, Math.PI / 2.5, 3, new BABYLON.Vector3(0, 0, 0));\n  camera.attachControl(canvas, true);\n  const light = new BABYLON.HemisphericLight(\"light\", new BABYLON.Vector3(0, 1, 0));\n  const groundMat = new BABYLON.StandardMaterial(\"groundMat\");\n  groundMat.diffuseColor = new BABYLON.Color3(0.21, 0.45, 0.21);\n  const roofMat = new BABYLON.StandardMaterial(\"roofMat\");\n  roofMat.diffuseTexture = new BABYLON.Texture(\"https://assets.babylonjs.com/environments/roof.jpg\", scene);\n  const boxMat = new BABYLON.StandardMaterial(\"boxMat\");\n  boxMat.diffuseTexture = new BABYLON.Texture(\"https://assets.babylonjs.com/environments/semihouse.png\", scene);\n  const faceUV = [];\n  faceUV[0] = new BABYLON.Vector4(0.6, 0, 1, 1);\n  faceUV[1] = new BABYLON.Vector4(0, 0, 0.4, 1);\n  faceUV[2] = new BABYLON.Vector4(0.4, 0, 0.6, 1);\n  faceUV[3] = new BABYLON.Vector4(0.4, 0, 0.6, 1);\n  const boxOne = BABYLON.MeshBuilder.CreateBox(\"boxOne\", { faceUV, wrap: true });\n  boxOne.position.x = -3;\n  boxOne.position.y = 2;\n  boxOne.scaling.x = 2;\n  boxOne.scaling.y = 4;\n  boxOne.scaling.z = 3;\n  const roofOne = BABYLON.MeshBuilder.CreateCylinder(\"roofOne\", { diameter: 4, height: 2.5, tessellation: 3 });\n  roofOne.rotation.z = Math.PI / 2;\n  roofOne.position.x = -3;\n  roofOne.position.y = 4.72;\n  const boxTwo = BABYLON.MeshBuilder.CreateBox(\"boxTwo\", {});\n  boxTwo.position = new BABYLON.Vector3(2, 1, 0.1);\n  boxTwo.scaling = new BABYLON.Vector3(5, 2, 3);\n  boxTwo.rotation.y = BABYLON.Tools.ToRadians(36);\n  const roofTwo = BABYLON.MeshBuilder.CreateCylinder(\"roofTwo\", { diameter: 4, height: 5.5, tessellation: 3 });\n  roofTwo.rotation.z = Math.PI / 2;\n  roofTwo.rotation.y = BABYLON.Tools.ToRadians(36);\n  roofTwo.position.x = 2.05;\n  roofTwo.position.y = 2.75;\n  boxOne.material = boxMat;\n  roofOne.material = roofMat;\n  boxTwo.material = boxMat;\n  roofTwo.material = roofMat;\n  const ground = BABYLON.MeshBuilder.CreateGround(\"ground\", { width: 10, height: 10 });\n  const material = new BABYLON.StandardMaterial(\"name\", scene);\n  ground.material = groundMat;\n  const houseOne = BABYLON.Mesh.MergeMeshes([boxOne, roofOne], true, false, null, false, true);\n  const houseTwo = BABYLON.Mesh.MergeMeshes([boxTwo, roofTwo], true, false, null, false, true);\n  return scene;\n};\nvar index_default = createScene;\nexport {\n  index_default as default\n};\n//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsic25hcHNob3Q6aW5kZXguanMiXSwKICAic291cmNlc0NvbnRlbnQiOiBbImNvbnN0IGNyZWF0ZVNjZW5lID0gICgpID0+IHtcbiAgICBjb25zdCBzY2VuZSA9IG5ldyBCQUJZTE9OLlNjZW5lKGVuZ2luZSk7XG5cbiAgICBjb25zdCBjYW1lcmEgPSBuZXcgQkFCWUxPTi5BcmNSb3RhdGVDYW1lcmEoXCJjYW1lcmFcIiwgLU1hdGguUEkgLyAyLCBNYXRoLlBJIC8gMi41LCAzLCBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsIDAsIDApKTtcbiAgICBjYW1lcmEuYXR0YWNoQ29udHJvbChjYW52YXMsIHRydWUpO1xuXG4gICAgY29uc3QgbGlnaHQgPSBuZXcgQkFCWUxPTi5IZW1pc3BoZXJpY0xpZ2h0KFwibGlnaHRcIiwgbmV3IEJBQllMT04uVmVjdG9yMygwLCAxLCAwKSk7XG5cbiAgICAvLyBzZXR0aW5nIHVwIGF1ZGlvRW5naW5lIHRvIHByb2R1Y2Ugc291bmRzXG4gICAgLy8gYXN5bmMgZnVuY3Rpb24gaW5pdEF1ZGlvKCkge1xuICAgICAgICAvLyBjb25zdCBhdWRpb0VuZ2luZSA9IGF3YWl0IEJBQllMT04uQ3JlYXRlQXVkaW9FbmdpbmVBc3luYygpO1xuICAgICAgICAvLyBhd2FpdCBhdWRpb0VuZ2luZS51bmxvY2tBc3luYygpO1xuXG4gICAgICAgIC8vIGNvbnN0YW50bHkgbG9vcGluZyBiYWNrZ3JvdW5kIG11c2ljXG4gICAgICAgIC8vIEJBQllMT04uQ3JlYXRlU3RyZWFtaW5nU291bmRBc3luYyhcIm5hbWVcIiwgXCI8c291bmQgZmlsZSBVUkw+XCIsIHsgbG9vcDogdHJ1ZSwgYXV0b3BsYXk6IHRydWV9LCBhdWRpb0VuZ2luZSk7XG5cbiAgICAgICAgLy8gcGxheSBhIHNob3J0IHNvdW5kXG4gICAgICAgIC8vIGNvbnN0IHNvdW5kID0gYXdhaXQgQkFCWUxPTi5DcmVhdGVTb3VuZEFzeW5jKFwic291bmRcIiwgXCI8c291bmQgZmlsZSBVUkw+XCIpO1xuICAgICAgICAvLyBzb3VuZC5wbGF5O1xuICAgIC8vIH1cblxuICAgIC8vIGluaXRBdWRpbygpOyAgICBcbiAgICBcbiAgICAvLyAqTUFURVJJQUxTKiAvL1xuICAgIC8vIENPTE9SU1xuICAgIGNvbnN0IGdyb3VuZE1hdCA9IG5ldyBCQUJZTE9OLlN0YW5kYXJkTWF0ZXJpYWwoXCJncm91bmRNYXRcIik7XG4gICAgZ3JvdW5kTWF0LmRpZmZ1c2VDb2xvciA9IG5ldyBCQUJZTE9OLkNvbG9yMygwLjIxLCAwLjQ1LCAwLjIxKTtcblxuICAgIC8vIFRFWFRVUkVTXG4gICAgY29uc3Qgcm9vZk1hdCA9IG5ldyBCQUJZTE9OLlN0YW5kYXJkTWF0ZXJpYWwoXCJyb29mTWF0XCIpO1xuICAgIHJvb2ZNYXQuZGlmZnVzZVRleHR1cmUgPSBuZXcgQkFCWUxPTi5UZXh0dXJlKFwiaHR0cHM6Ly9hc3NldHMuYmFieWxvbmpzLmNvbS9lbnZpcm9ubWVudHMvcm9vZi5qcGdcIiwgc2NlbmUpO1xuICAgIGNvbnN0IGJveE1hdCA9IG5ldyBCQUJZTE9OLlN0YW5kYXJkTWF0ZXJpYWwoXCJib3hNYXRcIik7XG4gICAgYm94TWF0LmRpZmZ1c2VUZXh0dXJlID0gbmV3IEJBQllMT04uVGV4dHVyZShcImh0dHBzOi8vYXNzZXRzLmJhYnlsb25qcy5jb20vZW52aXJvbm1lbnRzL3NlbWlob3VzZS5wbmdcIiwgc2NlbmUpO1xuXG4gICAgLy8gT1BUSU9OQUwgUEFSQU1FVEVSUyBGT1IgSE9VU0UgRkFDRSBTSURFU1xuICAgIGNvbnN0IGZhY2VVViA9IFtdO1xuICAgIGZhY2VVVlswXSA9IG5ldyBCQUJZTE9OLlZlY3RvcjQoMC42LCAwLjAsIDEuMCwgMS4wKTsgLy9yZWFyIGZhY2VcbiAgICBmYWNlVVZbMV0gPSBuZXcgQkFCWUxPTi5WZWN0b3I0KDAuMCwgMC4wLCAwLjQsIDEuMCk7IC8vZnJvbnQgZmFjZVxuICAgIGZhY2VVVlsyXSA9IG5ldyBCQUJZTE9OLlZlY3RvcjQoMC40LCAwLCAwLjYsIDEuMCk7IC8vcmlnaHQgc2lkZVxuICAgIGZhY2VVVlszXSA9IG5ldyBCQUJZTE9OLlZlY3RvcjQoMC40LCAwLCAwLjYsIDEuMCk7IC8vbGVmdCBzaWRlXG5cbiAgICAvLyAqV09STEQgT0JKRUNUUyogLy9cblxuICAgIC8vIEhPVVNFIE9ORVxuICAgIC8vIHNldCBwcm9wZXJ0aWVzIG9mIGJveFR3byB3aXRoIHNwZWNpZmljIHZhbHVlc1xuICAgIGNvbnN0IGJveE9uZSA9IEJBQllMT04uTWVzaEJ1aWxkZXIuQ3JlYXRlQm94KFwiYm94T25lXCIsIHtmYWNlVVY6IGZhY2VVViwgd3JhcDogdHJ1ZX0pO1xuICAgIGJveE9uZS5wb3NpdGlvbi54ID0gLTM7XG4gICAgYm94T25lLnBvc2l0aW9uLnkgPSAyO1xuICAgIGJveE9uZS5zY2FsaW5nLnggPSAyO1xuICAgIGJveE9uZS5zY2FsaW5nLnkgPSA0O1xuICAgIGJveE9uZS5zY2FsaW5nLnogPSAzO1xuXG4gICAgLy8gc2V0cyByb29mT25lXG4gICAgY29uc3Qgcm9vZk9uZSA9IEJBQllMT04uTWVzaEJ1aWxkZXIuQ3JlYXRlQ3lsaW5kZXIoXCJyb29mT25lXCIsIHtkaWFtZXRlcjogNCwgaGVpZ2h0OiAyLjUsIHRlc3NlbGxhdGlvbjogM30pXG4gICAgcm9vZk9uZS5yb3RhdGlvbi56ID0gTWF0aC5QSSAvIDI7XG4gICAgcm9vZk9uZS5wb3NpdGlvbi54ID0gLTM7XG4gICAgcm9vZk9uZS5wb3NpdGlvbi55ID0gNC43MjtcblxuICAgIC8vIEhPVVNFIFRXT1xuICAgIC8vIHNldHMgcHJvcGVydGllcyBvZiBib3hUd28gdG8gdGhhdCBvZiBhIHVuaXQgY3ViZSwgd2l0aCBwb3NpdGlvbnMgLSBmaXJzdCBtZXRob2RcbiAgICBjb25zdCBib3hUd28gPSBCQUJZTE9OLk1lc2hCdWlsZGVyLkNyZWF0ZUJveChcImJveFR3b1wiLCB7fSlcbiAgICAvLyBib3hUd28ucG9zaXRpb24ueCA9IDI7XG4gICAgLy8gYm94VHdvLnBvc2l0aW9uLnkgPSAwLjU7XG5cbiAgICAvLyBzZXRzIHBvc2l0aW9ucyBvZiBib3hUd28gLSBzZWNvbmQgbWV0aG9kXG4gICAgYm94VHdvLnBvc2l0aW9uID0gbmV3IEJBQllMT04uVmVjdG9yMygyLCAxLCAwLjEpO1xuXG4gICAgLy8gc2NhbGVzIGJveFR3byBhY2NvcmRpbmdseSAtIGZpcnN0IG1ldGhvZFxuICAgIC8vIGJveFR3by5zY2FsaW5nLnggPSA1O1xuICAgIC8vIGJveFR3by5zY2FsaW5nLnkgPSAyO1xuICAgIC8vIGJveFR3by5zY2FsaW5nLnogPSAzO1xuXG4vLyBzY2FsZXMgYm94VHdvIGFjY29yZGluZ2x5IC0gc2Vjb25kIG1ldGhvZFxuICAgIGJveFR3by5zY2FsaW5nID0gbmV3IEJBQllMT04uVmVjdG9yMyg1LCAyLCAzKTtcblxuICAgIC8vIHJvdGF0ZXMgYm94VHdvIGFjY29yZGluZ2x5IC0gZmlyc3QgbWV0aG9kXG4gICAgLy8gYm94VHdvLnJvdGF0aW9uLnkgPSBNYXRoLlBJIC8gNTtcblxuICAgIC8vIHJvdGF0ZXMgYm94VHdvIGFjY29yZGluZ2x5IC0gc2Vjb25kIG1ldGhvZFxuICAgIGJveFR3by5yb3RhdGlvbi55ID0gQkFCWUxPTi5Ub29scy5Ub1JhZGlhbnMoMzYpO1xuXG4gICAgLy8gc2V0cyByb29mVHdvXG4gICAgY29uc3Qgcm9vZlR3byA9IEJBQllMT04uTWVzaEJ1aWxkZXIuQ3JlYXRlQ3lsaW5kZXIoXCJyb29mVHdvXCIsIHtkaWFtZXRlcjogNCwgaGVpZ2h0OiA1LjUsIHRlc3NlbGxhdGlvbjogM30pXG4gICAgcm9vZlR3by5yb3RhdGlvbi56ID0gTWF0aC5QSSAvIDI7XG4gICAgcm9vZlR3by5yb3RhdGlvbi55ID0gQkFCWUxPTi5Ub29scy5Ub1JhZGlhbnMoMzYpO1xuICAgIHJvb2ZUd28ucG9zaXRpb24ueCA9IDIuMDU7XG4gICAgcm9vZlR3by5wb3NpdGlvbi55ID0gMi43NTtcblxuICAgIGJveE9uZS5tYXRlcmlhbCA9IGJveE1hdDtcbiAgICByb29mT25lLm1hdGVyaWFsID0gcm9vZk1hdDtcblxuICAgIGJveFR3by5tYXRlcmlhbCA9IGJveE1hdDtcbiAgICByb29mVHdvLm1hdGVyaWFsID0gcm9vZk1hdDtcblxuICAgIC8vIEdST1VORFxuICAgIC8vIHNldCB1cCBncm91bmRcbiAgICBjb25zdCBncm91bmQgPSBCQUJZTE9OLk1lc2hCdWlsZGVyLkNyZWF0ZUdyb3VuZChcImdyb3VuZFwiLCB7d2lkdGg6IDEwLCBoZWlnaHQ6IDEwfSk7XG5cbiAgICAvLyBjcmVhdGUgbWF0ZXJpYWwgZm9yIGdyb3VuZFxuICAgIGNvbnN0IG1hdGVyaWFsID0gbmV3IEJBQllMT04uU3RhbmRhcmRNYXRlcmlhbChcIm5hbWVcIiwgc2NlbmUpO1xuXG4gICAgLy8gcGxhY2VzIG1hdGVyaWFsIHByb3BlcnR5IG9uIGdyb3VuZFxuICAgIGdyb3VuZC5tYXRlcmlhbCA9IGdyb3VuZE1hdDtcblxuICAgIC8vICpDT01CSU5JTkcgTUVTSEVTKiAvL1xuICAgIGNvbnN0IGhvdXNlT25lID0gQkFCWUxPTi5NZXNoLk1lcmdlTWVzaGVzKFtib3hPbmUsIHJvb2ZPbmVdLCB0cnVlLCBmYWxzZSwgbnVsbCwgZmFsc2UsIHRydWUpO1xuICAgIGNvbnN0IGhvdXNlVHdvID0gQkFCWUxPTi5NZXNoLk1lcmdlTWVzaGVzKFtib3hUd28sIHJvb2ZUd29dLCB0cnVlLCBmYWxzZSwgbnVsbCwgZmFsc2UsIHRydWUpO1xuXG4gICAgcmV0dXJuIHNjZW5lO1xufVxuXG5leHBvcnQgZGVmYXVsdCBjcmVhdGVTY2VuZVxuXG4vLyMgc291cmNlVVJMPWZpbGU6Ly8vcGcvaW5kZXguanMiXSwKICAibWFwcGluZ3MiOiAiO0FBQUEsSUFBTSxjQUFlLE1BQU07QUFDdkIsUUFBTSxRQUFRLElBQUksUUFBUSxNQUFNLE1BQU07QUFFdEMsUUFBTSxTQUFTLElBQUksUUFBUSxnQkFBZ0IsVUFBVSxDQUFDLEtBQUssS0FBSyxHQUFHLEtBQUssS0FBSyxLQUFLLEdBQUcsSUFBSSxRQUFRLFFBQVEsR0FBRyxHQUFHLENBQUMsQ0FBQztBQUNqSCxTQUFP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\n";
    const blob = new Blob([code], { type: 'text/javascript' });
    const url = URL.createObjectURL(blob);

    const BABYLON = window.BABYLON;
    const canvas = document.getElementById('renderCanvas');

    // Import your bundled app (which exports createScene / default)
    const mod = await import(url);

    let engine = null;
    if (typeof mod.createEngine === 'function') {
      try { engine = await mod.createEngine(); } catch {}
    }
    if (!engine) {
      engine = new BABYLON.Engine(canvas, true, { preserveDrawingBuffer: true, stencil: true });
    }
    window.engine = engine; window.canvas = canvas;

    let createScene = mod.createScene || mod.default;
    if (!createScene && mod.Playground?.CreateScene) createScene = (e,c)=>mod.Playground.CreateScene(e,c);
    if (!createScene) throw new Error('No createScene() export found.');

    const scene = await (createScene(engine, canvas) ?? createScene());
    engine.runRenderLoop(()=>scene.render());
    addEventListener('resize', ()=>engine.resize());

    addEventListener('unload', ()=> URL.revokeObjectURL(url));
  </script>
</body>
</html>